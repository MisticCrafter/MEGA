namespace = elections

country_event = {
	id = elections.720
	title = elections.720.t
	desc = {
		trigger = {
			has_government_attribute = has_dutch_election
		}
		desc = elections.720.da
	}
	
	desc = {
		trigger = { has_reform = monastic_elections_reform }
		desc = elections.720.dc
	}
	
	desc = {
		trigger = { has_reform = feuillant_reform }
		desc = elections.720.de
	}
	
	desc = {
		trigger = { 
			NOT = {
				has_government_attribute = has_dutch_election
			} 
		}
		desc = elections.720.db
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_states_general_mechanic = yes
		OR = {
			is_lesser_in_union = no
			is_statists_in_power = yes
		}
	}
	
	option = {
		name = elections.720.a
		trigger = { 
			NOT = { has_reform = monastic_elections_reform }
			NOT = { has_reform = feuillant_reform }
		}
		if = {
			limit = {
				has_government_attribute = republican_virtues
			}
			define_ruler = {
				change_adm = 1
				change_dip = 1
				change_mil = 1
			}
		}
		else = {
			define_ruler = {
			}
		}
		if = {
			limit = {
				has_country_flag = ned_buff_statists_candidates_flag
			}
			add_estate_loyalty = {
				estate = all
				loyalty = 5
			}
		}
		change_statists_vs_orangists = -0.33
	
	}
	
	option = {
		trigger = { has_reform = feuillant_reform }
		name = elections.720.g
		define_ruler = {
		}
		add_faction_influence = {
			faction = rr_jacobins
			influence = 20
		}
		change_statists_vs_orangists = -0.33
	}
	
	option = {
		trigger = { has_reform = feuillant_reform }
		name = elections.720.h
		define_ruler = {
		}
		add_faction_influence = {
			faction = rr_girondists
			influence = 20
		}
		change_statists_vs_orangists = -0.33
	}
	
	option = {
		trigger = { 
			has_government_attribute = has_dutch_election
		}
		name = elections.720.b
		if = {
			limit = {
				NOT = {
					has_country_flag = ned_buff_orangist_candidates_flag
				}
			}
			define_ruler = {
				
			}
			hidden_effect = {
				set_dynasty = "van Paradyx"
			}
		}
		else = {
			define_ruler = {
				change_adm = 1
				change_dip = 1
				change_mil = 1
				
			}
			hidden_effect = {
				set_dynasty = "van Paradyx"
			}
		}
		change_statists_vs_orangists = 0.33
		set_ruler_flag = ned_orangist_ruler_flag
	}

	option = {
		trigger = { 
			NOT = { 
				OR = {
					has_government_attribute = has_dutch_election
					has_reform = monastic_elections_reform
				}
			} 
		}
		name = elections.720.c
		if = {
			limit = {
				has_reform = feuillant_reform
				tag = FRA
			}
			define_ruler = {
				dynasty = "Bonaparte"
			}
		}
		else_if = {
			limit = {
				has_reform = feuillant_reform
				NOT = { tag = FRA }
			}
			define_ruler = {
			}
		}
		else = {
			define_ruler = {
				dynasty = historic_dynasty # Will pick one weighted by how many rulers a family has had
			}
		}
		if = {
			limit = {
				has_reform = feuillant_reform
			}
			add_faction_influence = {
				faction = rr_royalists
				influence = 20
			}
		}
		change_statists_vs_orangists = 0.33
	}
	
	option = {
		name = elections.720.e
		trigger = { has_reform = monastic_elections_reform }
		define_ruler = {
		}
		change_statists_vs_orangists = -0.33
	}

	option = {
		trigger = { has_reform = monastic_elections_reform }
		name = elections.720.f
		define_ruler = {
		}
		change_statists_vs_orangists = 0.33
	}
}

country_event = {
	id = elections.721
	title = elections.720.t
	desc = {
		trigger = {
			has_government_attribute = has_dutch_election
		}
		desc = elections.721.da
	}
	
	desc = {
		trigger = { has_reform = monastic_elections_reform }
		desc = elections.721.dc
	}
	
	desc = {
		trigger = { has_reform = feuillant_reform }
		desc = elections.721.de
	}
	
	desc = {
		trigger = {
			NOT = {
				has_government_attribute = has_dutch_election
			}
		}
		desc = elections.721.db
	}
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_states_general_mechanic = yes
		OR = {
			is_lesser_in_union = no
			is_statists_in_power = yes
		}
	}
	
	option = {
		name = elections.720.a
		trigger = { 
			NOT = { has_reform = monastic_elections_reform }
			NOT = { has_reform = feuillant_reform }
		}
		if = {
			limit = {
				has_government_attribute = republican_virtues
			}
			define_ruler = {
				change_adm = 1
				change_dip = 1
				change_mil = 1
			}
		}
		else = {
			define_ruler = {
			}
		}
		if = {
			limit = {
				has_country_flag = ned_buff_statists_candidates_flag
			}
			add_estate_loyalty = {
				estate = all
				loyalty = 5
			}
		}
		change_statists_vs_orangists = -0.33
	
	}
	
	option = {
		trigger = { has_reform = feuillant_reform }
		name = elections.720.g
		define_ruler = {
		}
		add_faction_influence = {
			faction = rr_jacobins
			influence = 20
		}
		change_statists_vs_orangists = -0.33
	}
	
	option = {
		trigger = { has_reform = feuillant_reform }
		name = elections.720.h
		define_ruler = {
		}
		add_faction_influence = {
			faction = rr_girondists
			influence = 20
		}
		change_statists_vs_orangists = -0.33
	}
	
	option = {
		trigger = {
			has_government_attribute = has_dutch_election
		}
		name = elections.720.b
		if = {
			limit = {
				NOT = {
					has_country_flag = ned_buff_orangist_candidates_flag
				}
			}
			define_ruler = {
				
			}
			hidden_effect = {
				set_dynasty = "van Paradyx"
			}
		}
		else = {
			define_ruler = {
				change_adm = 1
				change_dip = 1
				change_mil = 1
			}
			hidden_effect = {
				set_dynasty = "van Paradyx"
			}
		}
		change_statists_vs_orangists = 0.33
		set_ruler_flag = ned_orangist_ruler_flag
	}

	option = {
		trigger = { 
			NOT = { 
				OR = { 
					has_government_attribute = has_dutch_election
					has_reform = monastic_elections_reform 
				} 
			} 
		}
		name = elections.720.c
		if = {
			limit = {
				has_reform = feuillant_reform
				tag = FRA
			}
			define_ruler = {
				dynasty = "Bonaparte"
			}
		}
		else_if = {
			limit = {
				has_reform = feuillant_reform
				NOT = { tag = FRA }
			}
			define_ruler = {
			}
		}
		else = {
			define_ruler = {
				dynasty = historic_dynasty # Will pick one weighted by how many rulers a family has had
			}
		}
		if = {
			limit = {
				has_reform = feuillant_reform
			}
			add_faction_influence = {
				faction = rr_royalists
				influence = 20
			}
		}
		change_statists_vs_orangists = 0.33
	}
	
	option = {
		name = elections.720.e
		trigger = { has_reform = monastic_elections_reform }
		define_ruler = {
		}
		change_statists_vs_orangists = -0.33
	}

	option = {
		trigger = { has_reform = monastic_elections_reform }
		name = elections.720.f
		define_ruler = {
		}
		change_statists_vs_orangists = 0.33
	}
}